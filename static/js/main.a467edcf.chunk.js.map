{"version":3,"sources":["api/index.js","config.js","context/AppContext.jsx","components/Search.jsx","components/Header.jsx","components/Footer.jsx","components/Ripple.jsx","components/Photo.jsx","components/Photos.jsx","components/NoResult.jsx","App.jsx","index.js"],"names":["axios","create","baseURL","headers","Authorization","AppContext","createContext","AppProvider","props","useState","photos","setPhotos","query","setQuery","loading","setLoading","total","totalPages","searchData","setSearchData","children","fetchPhotos","a","API","get","params","per_page","data","console","log","message","searchPhotos","total_pages","results","useEffect","Provider","value","handleSearchChange","e","currentTarget","handleSearchKeyDown","key","handleSearchReset","preventDefault","defaultProps","Search","useContext","className","type","placeholder","onKeyDown","onChange","data-testid","onClick","Header","Footer","Loading","Photo","id","urls","title","src","small","alt","Photos","map","photo","altDescriotion","alt_description","NoResult","App","length","Ripple","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a467edcf.chunk.js","sourcesContent":["import axios from 'axios';\n\nimport { API_BASE, CLIENT_ID } from '../config';\n\nexport default axios.create({\n  baseURL: API_BASE,\n  headers: {\n    Authorization: `Client-ID ${CLIENT_ID}`,\n  },\n});\n","export const API_BASE = 'https://api.unsplash.com/';\nexport const CLIENT_ID = 'qOW9M-8XVQPqyKf7XyskCOAdhEFgob29jRzPVxHoGBE';\n\nexport default {};\n","import React, { createContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport API from '../api';\n\nexport const AppContext = createContext();\n\nexport const AppProvider = (props) => {\n  const [photos, setPhotos] = useState([]);\n  const [query, setQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [searchData, setSearchData] = useState({\n    total: 0,\n    totalPages: 0,\n  });\n  const { children } = props;\n\n  const fetchPhotos = async () => {\n    try {\n      const { data } = await API.get(`photos`, {\n        params: {\n          per_page: 9,\n        },\n      });\n\n      setPhotos(data);\n      setLoading(false);\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const searchPhotos = async () => {\n    setLoading(true);\n\n    try {\n      const {\n        data: { total, total_pages: totalPages, results },\n      } = await API.get(`search/photos`, {\n        params: {\n          query,\n        },\n      });\n\n      setPhotos(results);\n      setLoading(false);\n\n      setSearchData({\n        ...searchData,\n\n        total,\n        totalPages,\n      });\n    } catch (e) {\n      console.log(e.message);\n    }\n  };\n\n  const handleSearchKeyDown = (e) => {\n    if (e.key === 'Enter' && !!query) {\n      searchPhotos();\n    }\n  };\n\n  const handleSearchChange = (e) => setQuery(e.currentTarget.value);\n\n  const handleSearchReset = (e) => {\n    e.preventDefault();\n    fetchPhotos();\n    setQuery('');\n  };\n\n  useEffect(() => {\n    fetchPhotos();\n  }, []);\n\n  return (\n    <AppContext.Provider\n      value={{\n        loading,\n        query,\n        photos,\n        handleSearchChange,\n        handleSearchKeyDown,\n        handleSearchReset,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nAppProvider.defaultProps = {\n  children: null,\n};\n\nAppProvider.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { useContext } from 'react';\nimport './Search.css';\n\nimport { AppContext } from '../context/AppContext';\n\nconst Search = () => {\n  const { query, handleSearchKeyDown, handleSearchChange, handleSearchReset } = useContext(\n    AppContext\n  );\n\n  return (\n    <div className=\"toolbar-search\">\n      <input\n        type=\"text\"\n        value={query}\n        className=\"searchbox\"\n        placeholder=\"Search then press enter...\"\n        onKeyDown={(e) => handleSearchKeyDown(e)}\n        onChange={(e) => handleSearchChange(e)}\n        data-testid=\"search-input\"\n      />\n\n      {query ? (\n        <button type=\"submit\" className=\"reset\" onClick={(e) => handleSearchReset(e)}>\n          Reset\n        </button>\n      ) : (\n        ''\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react';\n\nimport Search from './Search';\n\nconst Header = () => (\n  <header className=\"App-header\">\n    <h2 className=\"logoText\">\n      Flulse\n      <br />\n      <small> Unsplash + React example by mcometa </small>\n    </h2>\n    <Search />\n  </header>\n);\n\nexport default Header;\n","import React from 'react';\n\nconst Footer = () => (\n  <footer className=\"App-footer\">\n    <p> hello 2019! </p>\n  </footer>\n);\n\nexport default Footer;\n","import React from 'react';\n\nconst Loading = () => (\n  <div className=\"lds-ripple\">\n    <div />\n    <div />\n  </div>\n);\n\nexport default Loading;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Photo.css';\n\nconst Photo = ({ id, urls, title }) => (\n  <article data-testid=\"photo\" id={id} className=\"photo-item\">\n    <img src={urls.small} alt={title} />\n  </article>\n);\n\nPhoto.defaultProps = {\n  title: '',\n};\n\nPhoto.propTypes = {\n  id: PropTypes.string.isRequired,\n  urls: PropTypes.shape({\n    small: PropTypes.string.isRequired,\n  }).isRequired,\n  title: PropTypes.string,\n};\n\nexport default Photo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Photo from './Photo';\n\nconst Photos = ({ photos }) => {\n  return (\n    <main data-testid=\"photos\" className=\"Main-container\">\n      {photos.map((photo) => {\n        const { urls, id, alt_description: altDescriotion } = photo;\n        return <Photo key={id} id={id} urls={urls} title={altDescriotion} />;\n      })}\n    </main>\n  );\n};\n\nPhotos.propTypes = {\n  photos: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default Photos;\n","import React from 'react';\nimport './NoResult.css';\n\nconst NoResult = () => <div className=\"no-result\">No photos found</div>;\n\nexport default NoResult;\n","import React, { useContext } from 'react';\nimport './App.css';\n\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Ripple from './components/Ripple';\nimport Photos from './components/Photos';\nimport { AppContext } from './context/AppContext';\nimport NoResult from './components/NoResult';\n\nconst App = () => {\n  const { loading, photos } = useContext(AppContext);\n  return (\n    <div data-testid=\"app-main\" className=\"App\">\n      <Header />\n      {photos.length > 0 ? <Photos photos={photos} /> : <NoResult />}\n      {loading === true && <Ripple />}\n      <Footer />\n    </div>\n  );\n};\n\nexport default App;\n","/* eslint-disable react/jsx-filename-extension */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context/AppContext';\n\nReactDOM.render(\n  <AppProvider>\n    <App />\n  </AppProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}