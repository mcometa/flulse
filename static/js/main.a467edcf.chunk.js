(this.webpackJsonpflulse=this.webpackJsonpflulse||[]).push([[0],{17:function(e,t,a){e.exports=a(46)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),s=(a(23),a(24),a(25),a(16)),o=a(2),u=a.n(o),i=a(4),p=a(3),m=a(15),h=a.n(m).a.create({baseURL:"https://api.unsplash.com/",headers:{Authorization:"Client-ID ".concat("qOW9M-8XVQPqyKf7XyskCOAdhEFgob29jRzPVxHoGBE")}}),d=Object(n.createContext)(),f=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),m=Object(p.a)(o,2),f=m[0],E=m[1],v=Object(n.useState)(!0),b=Object(p.a)(v,2),g=b[0],O=b[1],j=Object(n.useState)({total:0,totalPages:0}),y=Object(p.a)(j,2),x=y[0],N=y[1],S=e.children,k=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("photos",{params:{per_page:9}});case 3:t=e.sent,a=t.data,l(a),O(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,h.get("search/photos",{params:{query:f}});case 4:t=e.sent,a=t.data,n=a.total,r=a.total_pages,c=a.results,l(c),O(!1),N(Object(s.a)({},x,{total:n,totalPages:r})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){k()}),[]),r.a.createElement(d.Provider,{value:{loading:g,query:f,photos:c,handleSearchChange:function(e){return E(e.currentTarget.value)},handleSearchKeyDown:function(e){"Enter"===e.key&&f&&w()},handleSearchReset:function(e){e.preventDefault(),k(),E("")}}},S)};f.defaultProps={children:null};var E=function(){var e=Object(n.useContext)(d),t=e.query,a=e.handleSearchKeyDown,c=e.handleSearchChange,l=e.handleSearchReset;return r.a.createElement("div",{className:"toolbar-search"},r.a.createElement("input",{type:"text",value:t,className:"searchbox",placeholder:"Search then press enter...",onKeyDown:function(e){return a(e)},onChange:function(e){return c(e)},"data-testid":"search-input"}),t?r.a.createElement("button",{type:"submit",className:"reset",onClick:function(e){return l(e)}},"Reset"):"")},v=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",{className:"logoText"},"Flulse",r.a.createElement("br",null),r.a.createElement("small",null," Unsplash + React example by mcometa ")),r.a.createElement(E,null))},b=function(){return r.a.createElement("footer",{className:"App-footer"},r.a.createElement("p",null," hello 2019! "))},g=function(){return r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null))},O=(a(44),function(e){var t=e.id,a=e.urls,n=e.title;return r.a.createElement("article",{"data-testid":"photo",id:t,className:"photo-item"},r.a.createElement("img",{src:a.small,alt:n}))});O.defaultProps={title:""};var j=O,y=function(e){var t=e.photos;return r.a.createElement("main",{"data-testid":"photos",className:"Main-container"},t.map((function(e){var t=e.urls,a=e.id,n=e.alt_description;return r.a.createElement(j,{key:a,id:a,urls:t,title:n})})))},x=(a(45),function(){return r.a.createElement("div",{className:"no-result"},"No photos found")}),N=function(){var e=Object(n.useContext)(d),t=e.loading,a=e.photos;return r.a.createElement("div",{"data-testid":"app-main",className:"App"},r.a.createElement(v,null),a.length>0?r.a.createElement(y,{photos:a}):r.a.createElement(x,null),!0===t&&r.a.createElement(g,null),r.a.createElement(b,null))};l.a.render(r.a.createElement(f,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a467edcf.chunk.js.map